<html>
  <head>
    <title>Yadex packager's guide</title>
  </head>
  <body>
    <div align="center">
      <img src="logo_small.png" alt="Fancy logo">
      <br>Yadex $VERSION ($SOURCE_DATE)
      <h1>Packager's guide</h1>
      <table>
        <tr>
	  <td>
	  </td>
	  <td width="50%" align="center">
	    This is for people who plan to package Yadex.
	  </td>
	  <td>
	  </td>
	</tr>
      </table>
    </div>

    <br>
    <br>
    <br>

    <p>So you want to package Yadex&nbsp;? Here is a list of things you should
      probably know&nbsp;:</p>

    <p>
      <ul>
	<p><li>To make it install in <code>/usr</code> instead of
	  <code>/usr/local</code>, re-run <code>configure</code> with the right
	  <code>--prefix</code> option, type <code>make clean &amp;&amp; make
	  all</code>. That's all there is to it.</p>
	  
	  <p>You shouldn't have to make any manual changes&nbsp;; most
	  references to the prefix in the documentation and elsewhere use the
	  files generated by <code>configure</code> (you'll have to <code>make
	  clean</code>, however). One possibly undesirable consequence of this
	  is that the doc from your package and the doc that one would get
	  after installing from the source will not be identical. I suppose it
	  doesn't matter.</p>

	<p><li>From version 1.6 on, alternative prefixes are better supported
	  but the behaviour has changed somewhat. Instead of looking for files
	  in both <code>/usr</code> and <code>/usr/local</code>, Yadex uses
	  only the prefix directory. The goal was to reduce the unwanted
	  interactions between Yadexes installed with different prefixes on the
	  same system. Since packagers typically use <code>/usr</code>, users
	  should be able to have on their system both the original and the
	  packaged version of Yadex. (Incidentally, that's not true for
	  <code>/etc/yadex/$VERSION/yadex.cfg</code> but the FHS is to
	  blame).</p> 

	<p><li>To allow one to have several different versions installed at the
	  same time on the same system, Yadex uses a somewhat unusual scheme
	  where each file installed has the version number somewhere in its
	  pathname. If your packaging system allows version <i>n</i> + 1 to
	  have a different set of files than version <i>n</i> of the same
	  package, this should cause no problem. In fact, if the package
	  manager allows that, two different versions of the package could
	  coexist (except that they would overwrite each other's symlinks in
	  <code>bin/</code> and <code>man/</code>, but that's what they're
	  for).

	  <p>If you have problems with that scheme, let me know.</p>

	<p><li>If you actually try to understand the makefile, you're going to
	  end up hating me.</p> 

      </ul>
    </p>

    <p><hr>AYM $SELF_DATE</p>

  </body>
</html>

